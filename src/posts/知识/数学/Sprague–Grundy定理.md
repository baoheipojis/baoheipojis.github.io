# Sprague-Grundy定理
## 定理说明
### 无偏博弈
无偏博弈需要满足以下条件：
1. 双方玩家的行动规则相同。
2. 游戏结果只与行动有关，与玩家身份无关。也就是说，游戏的胜负判定标准对两位玩家是一样的，像是警察抓小偷就不是。
3. 游戏在有限步内结束，没有平局
4. 所有信息公开。
### Nim游戏与Nim数
接下来我们介绍一种无偏博弈的例子：Nim游戏。
有若干堆石子，每堆有若干颗，每次玩家可以从任意一堆中拿走任意数量（不为零）的石子，拿走最后一颗石子的玩家获胜。

下面我们介绍Nim数
首先我们需要知道一个函数叫mex
mex(S) = min{n | n ∉ S}，即S中最小的非负整数。用C++代码表示就是：
```cpp
int mex(const std::set<int>& S) {
    int m = 0;
    while (S.count(m)) {
        m++;
    }
    return m;
}
```
注意，对于一个未排序的数组，也是有O(n)的时间计算mex的，这个我们在附录中介绍。
每个状态的Nim数是所有后继状态的Nim数的mex。
那么拿到了Nim数可以干嘛呢？